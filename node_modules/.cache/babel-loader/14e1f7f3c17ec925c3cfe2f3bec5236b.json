{"ast":null,"code":"import _slicedToArray from \"/Users/ndinfotech/Downloads/BackupGyrosOTPupdated/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"/Users/ndinfotech/Downloads/BackupGyrosOTPupdated/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/ndinfotech/Downloads/BackupGyrosOTPupdated/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/ndinfotech/Downloads/BackupGyrosOTPupdated/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/ndinfotech/Downloads/BackupGyrosOTPupdated/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/ndinfotech/Downloads/BackupGyrosOTPupdated/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/ndinfotech/Downloads/BackupGyrosOTPupdated/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar h = Object.defineProperty;\n\nvar u = function u(n, t, e) {\n  return t in n ? h(n, t, {\n    enumerable: !0,\n    configurable: !0,\n    writable: !0,\n    value: e\n  }) : n[t] = e;\n};\n\nvar c = function c(n, t, e) {\n  return u(n, typeof t != \"symbol\" ? t + \"\" : t, e), e;\n};\n\nimport f, { Component as m, createElement as v, Children as b } from \"react\";\n\nvar p = function p(n, t) {\n  return typeof getComputedStyle < \"u\" ? getComputedStyle(n, null).getPropertyValue(t) : n.style.getPropertyValue(t);\n},\n    y = function y(n) {\n  return p(n, \"overflow\") + p(n, \"overflow-y\") + p(n, \"overflow-x\");\n},\n    w = function w(n) {\n  if (!(n instanceof HTMLElement)) return window;\n  var t = n;\n\n  for (; t && !(t === document.body || t === document.documentElement || !t.parentNode);) {\n    if (/(scroll|auto)/.test(y(t))) return t;\n    t = t.parentNode;\n  }\n\n  return window;\n};\n\nvar g = /*#__PURE__*/function (_m) {\n  _inherits(g, _m);\n\n  function g(e) {\n    var _this;\n\n    _classCallCheck(this, g);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(g).call(this, e));\n    c(_assertThisInitialized(_assertThisInitialized(_this)), \"elementObserver\");\n    c(_assertThisInitialized(_assertThisInitialized(_this)), \"wrapper\");\n    c(_assertThisInitialized(_assertThisInitialized(_this)), \"lazyLoadHandler\", function (e) {\n      var o, i;\n\n      var s = _this.props.onContentVisible,\n          _e = _slicedToArray(e, 1),\n          r = _e[0],\n          l = r.isIntersecting;\n\n      if (l) {\n        _this.setState({\n          visible: !0\n        }, function () {\n          s && s();\n        });\n\n        var a = (o = _this.wrapper) == null ? void 0 : o.current;\n        a && a instanceof HTMLElement && ((i = _this.elementObserver) == null || i.unobserve(a));\n      }\n    });\n    _this.elementObserver = null, _this.wrapper = f.createRef(), _this.state = {\n      visible: !1\n    };\n    return _this;\n  }\n\n  _createClass(g, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var o;\n      this.getEventNode();\n      var _this$props = this.props,\n          e = _this$props.offset,\n          s = _this$props.threshold,\n          r = {\n        rootMargin: typeof e == \"number\" ? \"\".concat(e, \"px\") : e || \"0px\",\n        threshold: s || 0\n      };\n      this.elementObserver = new IntersectionObserver(this.lazyLoadHandler, r);\n      var l = (o = this.wrapper) == null ? void 0 : o.current;\n      l instanceof HTMLElement && this.elementObserver.observe(l);\n    }\n  }, {\n    key: \"shouldComponentUpdate\",\n    value: function shouldComponentUpdate(e, s) {\n      return s.visible;\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var s, r;\n      var e = (s = this.wrapper) == null ? void 0 : s.current;\n      e && e instanceof HTMLElement && ((r = this.elementObserver) == null || r.unobserve(e));\n    }\n  }, {\n    key: \"getEventNode\",\n    value: function getEventNode() {\n      var e;\n      return w((e = this.wrapper) == null ? void 0 : e.current);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n          e = _this$props2.children,\n          s = _this$props2.className,\n          r = _this$props2.height,\n          l = _this$props2.width,\n          o = _this$props2.elementType,\n          i = this.state.visible,\n          a = {\n        height: r,\n        width: l\n      },\n          d = \"LazyLoad\".concat(i ? \" is-visible\" : \"\").concat(s ? \" \".concat(s) : \"\");\n      return v(o || \"div\", {\n        className: d,\n        style: a,\n        ref: this.wrapper\n      }, i && b.only(e));\n    }\n  }]);\n\n  return g;\n}(m);\n\nc(g, \"defaultProps\", {\n  elementType: \"div\",\n  className: \"\",\n  offset: 0,\n  threshold: 0,\n  width: null,\n  onContentVisible: null,\n  height: null\n});\nexport { g as default };","map":null,"metadata":{},"sourceType":"module"}